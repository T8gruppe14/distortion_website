---
import MainLayout from "../../layouts/MainLayout.astro";

export async function getStaticPaths() {
  const data = await fetch(
    "https://fetch-with-astro.netlify.app/api/artists"
  ).then((response) => response.json());

  return data.map((artist) => {
    return {
      params: { slug: artist.slug },
      props: { myData: artist },
    };
  });
}

const { myData } = Astro.props;
console.log(myData);
---

<MainLayout title={myData.title}>
  <img src={myData.og_image.url} alt="" />
  <h2>{myData.title}</h2>
  <p>{myData.content}</p>
</MainLayout>
